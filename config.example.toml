# Memo CLI 配置文件示例
# 复制此文件到 ~/.memo/config.toml 并填写你的配置

# 向量数据库路径(可选, 默认: ~/.memo/brain)
# brain_path = "/path/to/your/brain"

# ============ Embedding API 配置 ============

# 提供商类型(可选: "zhipu"/"bigmodel", "openai", "ollama", 默认: zhipu)
# embedding_provider = "zhipu"

# API 端点(可选, 默认: https://open.bigmodel.cn/api/paas/v4)
# embedding_base_url = "https://open.bigmodel.cn/api/paas/v4"

# API 密钥(必填)
# 从 https://bigmodel.cn/usercenter/proj-mgmt/apikeys 获取
embedding_api_key = "your-api-key-here"

# 模型名称(默认: embedding-3)
# 可选: embedding-3, embedding-2
embedding_model = "embedding-3"

# Embedding 维度(可选, 默认 2048)
# embedding-3 支持: 256, 512, 1024, 2048
# embedding-2 固定: 1024
# embedding_dimension = 2048

# ============ Rerank API 配置(必填) ============
# Rerank 用于对向量搜索结果进行二次精排，显著提升搜索相关性
# 这是必须的配置项，未配置将无法使用搜索功能

# API 端点(可选, 默认: https://open.bigmodel.cn/api/paas/v4)
# rerank_base_url = "https://open.bigmodel.cn/api/paas/v4"

# API 密钥(必填, 可与 embedding_api_key 相同)
rerank_api_key = "your-api-key-here"

# Rerank 模型名称(默认: rerank)
rerank_model = "rerank"

# ============ 搜索配置 ============

# 返回结果数量上限
search_limit = 5

# 向量召回阈值(0.0-1.0)
# 使用 rerank 二次精排时建议设置较低(0.2-0.4)，确保召回足够候选
# rerank 会对这些候选进行精确排序，过滤掉不相关的结果
similarity_threshold = 0.3

# 重复检测相似度阈值(0.0-1.0)
duplicate_threshold = 0.85

# ============ 配置示例 ============

# --- 智谱 AI (默认, 推荐) ---
# 从 https://bigmodel.cn/usercenter/proj-mgmt/apikeys 获取 API Key
# embedding_api_key = "your-zhipu-api-key"
# embedding_model = "embedding-3"
# rerank_api_key = "your-zhipu-api-key"  # 可与 embedding 使用同一个 key
# rerank_model = "rerank"

# --- Ollama 本地部署 ---
# embedding_provider = "ollama"
# embedding_base_url = "http://localhost:11434/api"
# embedding_api_key = ""  # Ollama 无需 key
# embedding_model = "nomic-embed-text"

# --- 其他 OpenAI 兼容 API (如 OpenAI, Azure) ---
# embedding_base_url = "https://api.openai.com/v1"
# embedding_api_key = "sk-..."
# embedding_model = "text-embedding-3-small"
# rerank_base_url = "https://api.cohere.ai/v1"
# rerank_api_key = "your-cohere-key"
# rerank_model = "rerank-english-v3.0"
